const { Client, GatewayIntentBits, EmbedBuilder } = require('discord.js');
const cron = require('node-cron');

const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.MessageContent
  ]
});

const questions = [
  "ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ì œì¼ ê¸°ë¶„ ì¢‹ì•˜ë˜ ìˆœê°„ì€?",
  "ìš”ì¦˜ ì œì¼ ë§ì´ ìƒê°ë‚˜ëŠ” ê±´ ë­ì•¼?",
  "ì˜¤ëŠ˜ í•˜ë£¨ ì ìˆ˜ëŠ” 10ì  ë§Œì ì— ëª‡ ì ?",
  "ë‚˜ë‘ ê°™ì´ í•´ë³´ê³  ì‹¶ì€ ê±° í•˜ë‚˜ë§Œ ë§í•´ì¤˜ ğŸ˜Œ",
  "ìš”ì¦˜ ë‚˜í•œí…Œ í•˜ê³  ì‹¶ì—ˆë˜ ë§ ìˆì–´?",
  "ìš”ì¦˜ ì œì¼ ìì£¼ ë“£ëŠ” ë…¸ë˜ ë­ì•¼?",
  "ì–´ë¦´ ë•Œ ê¿ˆì´ ë­ì˜€ì–´?",
  "ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ì„ ë•Œ ì–´ë–»ê²Œ í’€ì–´?",
  "ë‚˜ë‘ ê³µí†µì  í•˜ë‚˜ ì°¾ìë©´ ë­ ê°™ì•„?",
  "ìš”ì¦˜ ë¹ ì ¸ìˆëŠ” ê±° ìˆì–´?",
  "ìµœê·¼ì— ì œì¼ ë§ì´ ì›ƒì€ ìˆœê°„ì€?",
  "ì§‘ì—ì„œ ì œì¼ ì¢‹ì•„í•˜ëŠ” ì‹œê°„ëŒ€ëŠ”?",
  "ìš”ì¦˜ ê°€ì¥ ë¨¹ê³  ì‹¶ì€ ìŒì‹ì€?",
  "ìš”ì¦˜ ì œì¼ ë§ì´ ì“°ëŠ” ì´ëª¨ì§€ ë­ì•¼?",
  "ì§€ê¸ˆ ê¸°ë¶„ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´?",
  "ë‚´ê°€ ìƒê°ë³´ë‹¤ ì´ëŸ° ì‚¬ëŒì´ë‹¤ ì‹¶ì€ ê±° ìˆì–´?",
  "ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ê³„ì ˆì€?",
  "ë‚˜í•œí…Œ ê¶ê¸ˆí–ˆë˜ ê±° í•˜ë‚˜ ìˆì–´?",
  "ìš”ì¦˜ ìì£¼ ìƒê°ë‚˜ëŠ” ì¥ì†Œ ìˆì–´?",
  "ì˜¤ëŠ˜ ë‚˜ë‘ ëŒ€í™”í•˜ë©´ì„œ ì œì¼ ì¢‹ì•˜ë˜ ìˆœê°„ì€?",
  "ëˆ„êµ°ê°€í•œí…Œ ê¼­ ë“£ê³  ì‹¶ì€ ë§ ìˆì–´?",
  "ê°€ë” í˜¼ì ìˆì„ ë•Œ ë¬´ìŠ¨ ìƒê°í•´?",
  "ë„ˆí•œí…Œ 'í¸í•˜ë‹¤'ëŠ” ì–´ë–¤ ì˜ë¯¸ì•¼?",
  "ìš”ì¦˜ ë‚˜í•œí…Œ ìˆ¨ê¸°ê³  ìˆëŠ” ê³ ë¯¼ ìˆì–´?",
  "ê°‘ìê¸° ë– ì˜¤ë¥´ëŠ” ì‚¬ëŒ ìˆì–´?",
  "í˜ë“¤ ë•Œ ëˆ„ê°€ ì˜†ì— ìˆì–´ì£¼ë©´ ì¢‹ê² ì–´?",
  "ìš”ì¦˜ ì œì¼ ë§ì´ ìƒê°í•˜ëŠ” ì£¼ì œëŠ”?",
  "ë„ˆëŠ” ì‚¬ë‘í•˜ë©´ ì–´ë–¤ ìŠ¤íƒ€ì¼ ê°™ì•„?",
  "ì‚¬ëŒì„ ì¢‹ì•„í•˜ê²Œ ë˜ë©´ ì œì¼ ë¨¼ì € ë³€í•˜ëŠ” ê²Œ ë­ì•¼?",
  "ë‚˜ë‘ ëŒ€í™”í•  ë•Œ ì–´ë–¤ ê¸°ë¶„ ë“¤ì–´?",
  "ìš”ì¦˜ ì™¸ë¡­ë‹¤ê³  ëŠë‚€ ì  ìˆì–´?",
  "ë‚´ê°€ í•´ì¤¬ìœ¼ë©´ í•˜ëŠ” ë§ ìˆì–´?",
  "ë„ˆí•œí…Œ ìœ„ë¡œê°€ ë˜ëŠ” ë§ì€ ë­ì•¼?",
  "ìš”ì¦˜ ì œì¼ ë“£ê³  ì‹¶ì€ í•œë§ˆë””ëŠ”?",
  "ë‚˜ë‘ ë” ê°€ê¹Œì›Œì§€ê³  ì‹¶ë‹¤ê³  ëŠë‚€ ì  ìˆì–´?",
  "ë‚´ê°€ ë‹¤ë¥¸ ì‚¬ëŒì´ë‘ ì¹œí•˜ê²Œ ì§€ë‚´ë©´ ì§ˆíˆ¬ë‚˜?",
  "ë‚˜í•œí…Œ ì ìˆ˜ ë§¤ê¸°ë©´ ëª‡ ì  ì¤„ ê±°ì•¼?",
  "ë‚˜ë‘ ë‹¨ë‘˜ì´ ë†€ë©´ ë­ í•˜ê³  ì‹¶ì–´?",
  "ë‚´ê°€ ì‚¬ë¼ì§€ë©´ ì¡°ê¸ˆì´ë¼ë„ ì•„ì‰¬ìš¸ ê²ƒ ê°™ì•„?",
  "ë‚´ ë§¤ë ¥ í•˜ë‚˜ë§Œ ë§í•´ì¤˜",
  "ë‚˜ë‘ í•˜ë£¨ ì¢…ì¼ í†µí™” ê°€ëŠ¥í•´?",
  "ë‚˜í•œí…Œ ì œì¼ ì˜ ì–´ìš¸ë¦¬ëŠ” ë³„ëª…ì€?",
  "ë‚˜ë‘ ì—¬í–‰ ê°€ë©´ ì–´ë”” ê°€ê³  ì‹¶ì–´?",
  "ë‚˜ ì›ƒê¸¸ ë•Œë‘ ì§„ì§€í•  ë•Œ ì¤‘ ë­ê°€ ë” ì¢‹ì•„?",
  "ì†”ì§íˆ ë‚˜ ì¡°ê¸ˆì´ë¼ë„ ì‹ ê²½ ì“°ì—¬?",
  "ë‚˜ë‘ ë°¤ìƒˆ ëŒ€í™” ê°€ëŠ¥?",
  "ë‚˜í•œí…Œ ì„¤ë Œ ì  ìˆì–´?",
  "ë‚´ê°€ ê°‘ìê¸° ê³ ë°±í•˜ë©´ ë°˜ì‘ ì–´ë•Œ?",
  "ë‚˜ë‘ ë°ì´íŠ¸ ì½”ìŠ¤ ì§œë³¸ë‹¤ë©´?",
  "ë‚˜í•œí…Œ ë¹„ë°€ í•˜ë‚˜ ë§í•´ì¤„ ìˆ˜ ìˆì–´?",
  "ë‚´ê°€ ë‹¤ë¥¸ ì‚¬ëŒì´ë‘ ë” ì¹œí•´ì§€ë©´ ì–´ë•Œ?",
  "ë‚˜í•œí…Œ í•˜ê³  ì‹¶ì—ˆëŠ”ë° ëª» í•œ ë§ ìˆì–´?",
  "ë‚˜ë‘ ì‹¤ì œë¡œ ë§Œë‚˜ë©´ ì–´ìƒ‰í• ê¹Œ?",
  "ë‚˜ ìƒê°ë³´ë‹¤ ê´œì°®ì€ ì‚¬ëŒ ê°™ì•„?",
  "ìš°ë¦¬ ë‘˜ì´ ì˜ ë§ëŠ” í¸ ê°™ì•„?",
  "ë‚˜ë‘ ì—°ë½ ëŠê¸°ë©´ ì•„ì‰¬ìš¸ ê²ƒ ê°™ì•„?",
  "ë‚´ê°€ ìœ„ë¡œê°€ ëœ ì  ìˆì–´?",
  "ë‚˜ë‘ ìˆìœ¼ë©´ ì•ˆì •ê° ë“¤ì–´?",
  "ë‚´ê°€ ì—†ìœ¼ë©´ ì¡°ê¸ˆ í—ˆì „í•  ê²ƒ ê°™ì•„?",
  "ì˜¤ëŠ˜ ê°€ì¥ í–‰ë³µí–ˆë˜ ìˆœê°„ ê³µìœ í•´ì¤„ë˜?",
  "ë‚´ê°€ ì˜¤ëŠ˜ ì›ƒê²Œ ë§Œë“  ìˆœê°„ ìˆì–´?",
  "ë‚´ê°€ ìˆìœ¼ë©´ í•˜ë£¨ê°€ ë” ì¦ê±°ì›Œ?",
  "ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ë‚˜ ìƒê°ë‚œ ìˆœê°„ ìˆì–´?",
  "ë‚˜ë‘ ì˜¤ëŠ˜ ì´ì•¼ê¸°í•˜ë©´ì„œ ì¢‹ì•˜ë˜ ìˆœê°„ì€?",
  "ì˜¤ëŠ˜ ì„œë¡œ ì†”ì§í•˜ê²Œ ì–˜ê¸°í•´ë³¼ë˜?",
  "ì˜¤ëŠ˜ ê°€ì¥ ì›ƒê²¼ë˜ ì¼ ë­ì˜€ì–´?",
  "ì˜¤ëŠ˜ í•˜ë£¨ ë‚˜ë‘ ê³µìœ í•˜ê³  ì‹¶ì€ ì¼ ìˆì–´?",
  "ì˜¤ëŠ˜ ê¸°ë¶„ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´?",
  "ì˜¤ëŠ˜ í•˜ë£¨ì— ì ìˆ˜ ì¤€ë‹¤ë©´ ëª‡ ì ?",
  "ì˜¤ëŠ˜ ë‚˜ë‘ í•¨ê»˜ í•œ ì‹œê°„ ì¤‘ ê°€ì¥ ì¢‹ì•˜ë˜ ìˆœê°„?",
  "ë‚˜ë‘ ë©”ì‹œì§€ë‚˜ í†µí™”í•  ë•Œ ê¸°ë‹¤ë ¤ì§€ëŠ” ìˆœê°„ì´ ìˆì–´?",
  "ë‚´ê°€ ë³´ë‚´ëŠ” ë©”ì‹œì§€ì— ì„¤ë ˆëŠ” ëŠë‚Œì´ ë“¤ ë•Œê°€ ìˆì–´?",
  "ë‚´ê°€ ì¥ë‚œì¹˜ê±°ë‚˜ ë†ë‹´í•˜ë©´ ê¸°ë¶„ì´ ë¬˜í•˜ê²Œ ë‹¬ë¼ì§€ëŠ” ì  ìˆì–´?",
  "ë‚˜ì™€ ì´ì•¼ê¸°í•  ë•Œ ì›ƒìŒì´ ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜ëŠ” ìˆœê°„ì´ ìˆì–´?",
  "ë‚´ê°€ ë³´ë‚´ëŠ” ì´ëª¨í‹°ì½˜ì´ë‚˜ ì‚¬ì§„ ë•Œë¬¸ì— ê¸°ë¶„ì´ ì¢‹ì•„ì§„ ì  ìˆì–´?",
  "ë‚´ê°€ ì—†ëŠ” ë™ì•ˆì—ë„ ë‚˜ë¥¼ ë– ì˜¬ë¦° ì ì´ ìˆì–´?",
  "ë‚´ê°€ ë³´ë‚´ëŠ” ë©”ì‹œì§€ê°€ ê¸°ë‹¤ë ¤ì§„ ì  ìˆì–´?",
  "ë‚´ê°€ ì—†ëŠ” ë™ì•ˆ í•˜ë£¨ê°€ ì‹¬ì‹¬í•˜ê²Œ ëŠê»´ì§„ ì  ìˆì–´?",
  "ë‚´ê°€ ì—†ì„ ë•Œ ê°€ë” ë‚˜ë¥¼ ë– ì˜¬ë¦¬ëŠ” ìˆœê°„ ìˆì–´?",
  "ìš”ì¦˜ ëˆ„êµ¬ë‘ ìˆìœ¼ë©´ ì œì¼ í¸í•´?",
  "ì‚¬ëŒ ì¢‹ì•„í•  ë•Œ ë³´í†µ ë¨¼ì € í‘œí˜„í•˜ëŠ” í¸ì´ì•¼ ì•„ë‹ˆë©´ ê¸°ë‹¤ë¦¬ëŠ” í¸ì´ì•¼?",
  "ìš”ì¦˜ ì—°ë½ ì œì¼ ë§ì´ í•˜ëŠ” ì‚¬ëŒ ëˆ„êµ¬ì•¼?",
  
  
  
];

let shuffledQuestions = [];
let currentIndex = 0;

function shuffleArray(array) {
  return array.sort(() => Math.random() - 0.5);
}

function getNextQuestion() {
  if (currentIndex >= shuffledQuestions.length) {
    shuffledQuestions = shuffleArray([...questions]);
    currentIndex = 0;
  }
  return shuffledQuestions[currentIndex++];
}

client.once('ready', () => {
  console.log('ë´‡ ì‹¤í–‰ë¨');

  // í¬ë¡  ì§ˆë¬¸ (ë§¤ì¼ 22ì‹œ)
  cron.schedule('0 22 * * *', async () => {
  // ì„œìš¸ì‹œê°„
}, { timezone: 'Asia/Seoul' });

    const channel = client.channels.cache.get("1473382815897747507");
    if (!channel) return;
    const question = getNextQuestion();
    const embed = new EmbedBuilder()
      .setColor(0xFF69B4)
      .setAuthor({
        name: `${channel.guild.name} ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ğŸŒ™`,
        iconURL: channel.guild.iconURL({ dynamic: true })
      })
      .setDescription(`ğŸ’Œ ${question}`)
      .setFooter({ text: "ë§¤ì¼ ë°¤ ìš°ë¦¬ë§Œì˜ ì§ˆë¬¸ ğŸ’«" })
      .setTimestamp();

    channel.send({ embeds: [embed] });
  });
});

// ëª…ë ¹ì–´ë¡œ ì¦‰ì‹œ ì§ˆë¬¸
client.on('messageCreate', (message) => {
  if (message.author.bot) return;
  if (message.content === '!ì§ˆë¬¸') {
  const question = getNextQuestion();
  const embed = new EmbedBuilder()
    .setColor(0xFF69B4)
    .setAuthor({
        name: message.guild.name,
        iconURL: message.guild.iconURL({ dynamic: true })
      })
    .setDescription(`ğŸŒ™ ì˜¤ëŠ˜ì˜ ì§ˆë¬¸\n\nğŸ’Œ ${question}`)
    .setFooter({ text: "ë§¤ì¼ ë°¤ ìš°ë¦¬ë§Œì˜ ì§ˆë¬¸ ğŸ’«" })
    .setTimestamp();

  message.channel.send({ embeds: [embed] });
  }
});

client.login(process.env.TOKEN);

const http = require('http');
http.createServer((req, res) => res.end("Bot is running")).listen(3000);





















