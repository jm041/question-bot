const { Client, GatewayIntentBits, EmbedBuilder } = require('discord.js');
const cron = require('node-cron');

const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.MessageContent
  ]
});

const questions = [
  "ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ì œì¼ ê¸°ë¶„ ì¢‹ì•˜ë˜ ìˆœê°„ì€?",
  "ìš”ì¦˜ ì œì¼ ë§Žì´ ìƒê°ë‚˜ëŠ” ê±´ ë­ì•¼?",
  "ì˜¤ëŠ˜ í•˜ë£¨ ì ìˆ˜ëŠ” 10ì  ë§Œì ì— ëª‡ ì ?",
  "ë‚˜ëž‘ ê°™ì´ í•´ë³´ê³  ì‹¶ì€ ê±° í•˜ë‚˜ë§Œ ë§í•´ì¤˜ ðŸ˜Œ",
  "ìš”ì¦˜ ë‚˜í•œí…Œ í•˜ê³  ì‹¶ì—ˆë˜ ë§ ìžˆì–´?",
  "ìš”ì¦˜ ì œì¼ ìžì£¼ ë“£ëŠ” ë…¸ëž˜ ë­ì•¼?",
  "ì–´ë¦´ ë•Œ ê¿ˆì´ ë­ì˜€ì–´?",
  "ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ì„ ë•Œ ì–´ë–»ê²Œ í’€ì–´?",
  "ë‚˜ëž‘ ê³µí†µì  í•˜ë‚˜ ì°¾ìžë©´ ë­ ê°™ì•„?",
  "ìš”ì¦˜ ë¹ ì ¸ìžˆëŠ” ê±° ìžˆì–´?",
  "ìµœê·¼ì— ì œì¼ ë§Žì´ ì›ƒì€ ìˆœê°„ì€?",
  "ì§‘ì—ì„œ ì œì¼ ì¢‹ì•„í•˜ëŠ” ì‹œê°„ëŒ€ëŠ”?",
  "ìš”ì¦˜ ê°€ìž¥ ë¨¹ê³  ì‹¶ì€ ìŒì‹ì€?",
  "ìš”ì¦˜ ì œì¼ ë§Žì´ ì“°ëŠ” ì´ëª¨ì§€ ë­ì•¼?",
  "ì§€ê¸ˆ ê¸°ë¶„ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´?",
  "ë‚´ê°€ ìƒê°ë³´ë‹¤ ì´ëŸ° ì‚¬ëžŒì´ë‹¤ ì‹¶ì€ ê±° ìžˆì–´?",
  "ê°€ìž¥ ì¢‹ì•„í•˜ëŠ” ê³„ì ˆì€?",
  "ë‚˜í•œí…Œ ê¶ê¸ˆí–ˆë˜ ê±° í•˜ë‚˜ ìžˆì–´?",
  "ìš”ì¦˜ ìžì£¼ ìƒê°ë‚˜ëŠ” ìž¥ì†Œ ìžˆì–´?",
  "ì˜¤ëŠ˜ ë‚˜ëž‘ ëŒ€í™”í•˜ë©´ì„œ ì œì¼ ì¢‹ì•˜ë˜ ìˆœê°„ì€?",
  "ëˆ„êµ°ê°€í•œí…Œ ê¼­ ë“£ê³  ì‹¶ì€ ë§ ìžˆì–´?",
  "ê°€ë” í˜¼ìž ìžˆì„ ë•Œ ë¬´ìŠ¨ ìƒê°í•´?",
  "ë„ˆí•œí…Œ 'íŽ¸í•˜ë‹¤'ëŠ” ì–´ë–¤ ì˜ë¯¸ì•¼?",
  "ìš”ì¦˜ ë‚˜í•œí…Œ ìˆ¨ê¸°ê³  ìžˆëŠ” ê³ ë¯¼ ìžˆì–´?",
  "ê°‘ìžê¸° ë– ì˜¤ë¥´ëŠ” ì‚¬ëžŒ ìžˆì–´?",
  "íž˜ë“¤ ë•Œ ëˆ„ê°€ ì˜†ì— ìžˆì–´ì£¼ë©´ ì¢‹ê² ì–´?",
  "ìš”ì¦˜ ì œì¼ ë§Žì´ ìƒê°í•˜ëŠ” ì£¼ì œëŠ”?",
  "ë„ˆëŠ” ì‚¬ëž‘í•˜ë©´ ì–´ë–¤ ìŠ¤íƒ€ì¼ ê°™ì•„?",
  "ì‚¬ëžŒì„ ì¢‹ì•„í•˜ê²Œ ë˜ë©´ ì œì¼ ë¨¼ì € ë³€í•˜ëŠ” ê²Œ ë­ì•¼?",
  "ë‚˜ëž‘ ëŒ€í™”í•  ë•Œ ì–´ë–¤ ê¸°ë¶„ ë“¤ì–´?",
  "ìš”ì¦˜ ì™¸ë¡­ë‹¤ê³  ëŠë‚€ ì  ìžˆì–´?",
  "ë‚´ê°€ í•´ì¤¬ìœ¼ë©´ í•˜ëŠ” ë§ ìžˆì–´?",
  "ë„ˆí•œí…Œ ìœ„ë¡œê°€ ë˜ëŠ” ë§ì€ ë­ì•¼?",
  "ìš”ì¦˜ ì œì¼ ë“£ê³  ì‹¶ì€ í•œë§ˆë””ëŠ”?",
  "ë‚˜ëž‘ ë” ê°€ê¹Œì›Œì§€ê³  ì‹¶ë‹¤ê³  ëŠë‚€ ì  ìžˆì–´?",
  "ë‚´ê°€ ë‹¤ë¥¸ ì‚¬ëžŒì´ëž‘ ì¹œí•˜ê²Œ ì§€ë‚´ë©´ ì§ˆíˆ¬ë‚˜?",
  "ë‚˜í•œí…Œ ì ìˆ˜ ë§¤ê¸°ë©´ ëª‡ ì  ì¤„ ê±°ì•¼?",
  "ë‚˜ëž‘ ë‹¨ë‘˜ì´ ë†€ë©´ ë­ í•˜ê³  ì‹¶ì–´?",
  "ë‚´ê°€ ì‚¬ë¼ì§€ë©´ ì¡°ê¸ˆì´ë¼ë„ ì•„ì‰¬ìš¸ ê²ƒ ê°™ì•„?",
  "ë‚´ ë§¤ë ¥ í•˜ë‚˜ë§Œ ë§í•´ì¤˜",
  "ë‚˜ëž‘ í•˜ë£¨ ì¢…ì¼ í†µí™” ê°€ëŠ¥í•´?",
  "ë‚˜í•œí…Œ ì œì¼ ìž˜ ì–´ìš¸ë¦¬ëŠ” ë³„ëª…ì€?",
  "ë‚˜ëž‘ ì—¬í–‰ ê°€ë©´ ì–´ë”” ê°€ê³  ì‹¶ì–´?",
  "ë‚˜ ì›ƒê¸¸ ë•Œëž‘ ì§„ì§€í•  ë•Œ ì¤‘ ë­ê°€ ë” ì¢‹ì•„?",
  "ì†”ì§ížˆ ë‚˜ ì¡°ê¸ˆì´ë¼ë„ ì‹ ê²½ ì“°ì—¬?",
  "ë‚˜ëž‘ ë°¤ìƒˆ ëŒ€í™” ê°€ëŠ¥?",
  "ë‚˜í•œí…Œ ì„¤ë Œ ì  ìžˆì–´?",
  "ë‚´ê°€ ê°‘ìžê¸° ê³ ë°±í•˜ë©´ ë°˜ì‘ ì–´ë•Œ?",
  "ë‚˜ëž‘ ë°ì´íŠ¸ ì½”ìŠ¤ ì§œë³¸ë‹¤ë©´?",
  "ë‚˜í•œí…Œ ë¹„ë°€ í•˜ë‚˜ ë§í•´ì¤„ ìˆ˜ ìžˆì–´?",
  "ë‚´ê°€ ë‹¤ë¥¸ ì‚¬ëžŒì´ëž‘ ë” ì¹œí•´ì§€ë©´ ì–´ë•Œ?",
  "ë‚˜í•œí…Œ í•˜ê³  ì‹¶ì—ˆëŠ”ë° ëª» í•œ ë§ ìžˆì–´?",
  "ë‚˜ëž‘ ì‹¤ì œë¡œ ë§Œë‚˜ë©´ ì–´ìƒ‰í• ê¹Œ?",
  "ë‚˜ ìƒê°ë³´ë‹¤ ê´œì°®ì€ ì‚¬ëžŒ ê°™ì•„?",
  "ìš°ë¦¬ ë‘˜ì´ ìž˜ ë§žëŠ” íŽ¸ ê°™ì•„?",
  "ë‚˜ëž‘ ì—°ë½ ëŠê¸°ë©´ ì•„ì‰¬ìš¸ ê²ƒ ê°™ì•„?",
  "ë‚´ê°€ ìœ„ë¡œê°€ ëœ ì  ìžˆì–´?",
  "ë‚˜ëž‘ ìžˆìœ¼ë©´ ì•ˆì •ê° ë“¤ì–´?",
  "ë‚´ê°€ ì—†ìœ¼ë©´ ì¡°ê¸ˆ í—ˆì „í•  ê²ƒ ê°™ì•„?",
  "ì˜¤ëŠ˜ ê°€ìž¥ í–‰ë³µí–ˆë˜ ìˆœê°„ ê³µìœ í•´ì¤„ëž˜?",
  "ë‚´ê°€ ì˜¤ëŠ˜ ì›ƒê²Œ ë§Œë“  ìˆœê°„ ìžˆì–´?",
  "ë‚´ê°€ ìžˆìœ¼ë©´ í•˜ë£¨ê°€ ë” ì¦ê±°ì›Œ?",
  "ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ë‚˜ ìƒê°ë‚œ ìˆœê°„ ìžˆì–´?",
  "ë‚˜ëž‘ ì˜¤ëŠ˜ ì´ì•¼ê¸°í•˜ë©´ì„œ ì¢‹ì•˜ë˜ ìˆœê°„ì€?",
  "ì˜¤ëŠ˜ ì„œë¡œ ì†”ì§í•˜ê²Œ ì–˜ê¸°í•´ë³¼ëž˜?",
  "ì˜¤ëŠ˜ ê°€ìž¥ ì›ƒê²¼ë˜ ì¼ ë­ì˜€ì–´?",
  "ì˜¤ëŠ˜ í•˜ë£¨ ë‚˜ëž‘ ê³µìœ í•˜ê³  ì‹¶ì€ ì¼ ìžˆì–´?",
  "ì˜¤ëŠ˜ ê¸°ë¶„ í•œ ë‹¨ì–´ë¡œ í‘œí˜„í•˜ë©´?",
  "ì˜¤ëŠ˜ í•˜ë£¨ì— ì ìˆ˜ ì¤€ë‹¤ë©´ ëª‡ ì ?",
  "ì˜¤ëŠ˜ ë‚˜ëž‘ í•¨ê»˜ í•œ ì‹œê°„ ì¤‘ ê°€ìž¥ ì¢‹ì•˜ë˜ ìˆœê°„?",
  "ë‚˜ëž‘ ë©”ì‹œì§€ë‚˜ í†µí™”í•  ë•Œ ê¸°ë‹¤ë ¤ì§€ëŠ” ìˆœê°„ì´ ìžˆì–´?",
  "ë‚´ê°€ ë³´ë‚´ëŠ” ë©”ì‹œì§€ì— ì„¤ë ˆëŠ” ëŠë‚Œì´ ë“¤ ë•Œê°€ ìžˆì–´?",
  "ë‚´ê°€ ìž¥ë‚œì¹˜ê±°ë‚˜ ë†ë‹´í•˜ë©´ ê¸°ë¶„ì´ ë¬˜í•˜ê²Œ ë‹¬ë¼ì§€ëŠ” ì  ìžˆì–´?",
  "ë‚˜ì™€ ì´ì•¼ê¸°í•  ë•Œ ì›ƒìŒì´ ìžì—°ìŠ¤ëŸ½ê²Œ ë‚˜ëŠ” ìˆœê°„ì´ ìžˆì–´?",
  "ë‚´ê°€ ë³´ë‚´ëŠ” ì´ëª¨í‹°ì½˜ì´ë‚˜ ì‚¬ì§„ ë•Œë¬¸ì— ê¸°ë¶„ì´ ì¢‹ì•„ì§„ ì  ìžˆì–´?",
  "ë‚´ê°€ ì—†ëŠ” ë™ì•ˆì—ë„ ë‚˜ë¥¼ ë– ì˜¬ë¦° ì ì´ ìžˆì–´?",
  "ë‚´ê°€ ë³´ë‚´ëŠ” ë©”ì‹œì§€ê°€ ê¸°ë‹¤ë ¤ì§„ ì  ìžˆì–´?",
  "ë‚´ê°€ ì—†ëŠ” ë™ì•ˆ í•˜ë£¨ê°€ ì‹¬ì‹¬í•˜ê²Œ ëŠê»´ì§„ ì  ìžˆì–´?",
  "ë‚´ê°€ ì—†ì„ ë•Œ ê°€ë” ë‚˜ë¥¼ ë– ì˜¬ë¦¬ëŠ” ìˆœê°„ ìžˆì–´?",
  "ìš”ì¦˜ ëˆ„êµ¬ëž‘ ìžˆìœ¼ë©´ ì œì¼ íŽ¸í•´?",
  "ì‚¬ëžŒ ì¢‹ì•„í•  ë•Œ ë³´í†µ ë¨¼ì € í‘œí˜„í•˜ëŠ” íŽ¸ì´ì•¼ ì•„ë‹ˆë©´ ê¸°ë‹¤ë¦¬ëŠ” íŽ¸ì´ì•¼?",
  "ìš”ì¦˜ ì—°ë½ ì œì¼ ë§Žì´ í•˜ëŠ” ì‚¬ëžŒ ëˆ„êµ¬ì•¼?",
  
  
  
];

let shuffledQuestions = [];
let currentIndex = 0;

function shuffleArray(array) {
  return array.sort(() => Math.random() - 0.5);
}

function getNextQuestion() {
  if (currentIndex >= shuffledQuestions.length) {
    shuffledQuestions = shuffleArray([...questions]);
    currentIndex = 0;
  }
  return shuffledQuestions[currentIndex++];
}

client.once('ready', () => {
  console.log('ë´‡ ì‹¤í–‰ë¨');

  client.once('ready', () => {
  console.log('ë´‡ ì‹¤í–‰ë¨');

  // í¬ë¡  ì§ˆë¬¸ (ë§¤ì¼ 22ì‹œ, ì„œìš¸ì‹œê°„)
  cron.schedule(
    '0 22 * * *',
    async () => {
      const channelId = "1473382815897747507";
      const channel = await client.channels.fetch(channelId).catch(() => null);
      if (!channel) return;

      const question = getNextQuestion();
      const embed = new EmbedBuilder()
        .setColor(0xFF69B4)
        .setAuthor({
          name: `${channel.guild.name} ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ ðŸŒ™`,
          iconURL: channel.guild.iconURL({ dynamic: true })
        })
        .setDescription(`ðŸ’Œ ${question}`)
        .setFooter({ text: "ë§¤ì¼ ë°¤ ìš°ë¦¬ë§Œì˜ ì§ˆë¬¸ ðŸ’«" })
        .setTimestamp();

      channel.send({ embeds: [embed] });
    },
    { timezone: 'Asia/Seoul' }
  );
});

// ëª…ë ¹ì–´ë¡œ ì¦‰ì‹œ ì§ˆë¬¸
client.on('messageCreate', (message) => {
  if (message.author.bot) return;
  if (message.content === '!ì§ˆë¬¸') {
  const question = getNextQuestion();
  const embed = new EmbedBuilder()
    .setColor(0xFF69B4)
    .setAuthor({
        name: message.guild.name,
        iconURL: message.guild.iconURL({ dynamic: true })
      })
    .setDescription(`ðŸŒ™ ì˜¤ëŠ˜ì˜ ì§ˆë¬¸\n\nðŸ’Œ ${question}`)
    .setFooter({ text: "ë§¤ì¼ ë°¤ ìš°ë¦¬ë§Œì˜ ì§ˆë¬¸ ðŸ’«" })
    .setTimestamp();

  message.channel.send({ embeds: [embed] });
  }
});

client.login(process.env.TOKEN);

const http = require('http');
const PORT = process.env.PORT || 3000;
http.createServer((req, res) => res.end("Bot is running")).listen(PORT);
























